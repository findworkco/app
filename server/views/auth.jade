extends layout

block title
  - var Log_in = action === 'login' ? 'Log in' : 'Sign up';
  - var log_in = action === 'login' ? 'log in' : 'sign up';
  - var logging_in = action === 'login' ? 'logging in' : 'signing up';
  - var Sign_up = action === 'login' ? 'Sign up' : 'Log in';
  - var sign_up = action === 'login' ? 'sign up' : 'log in';
  title #{Log_in} - Find Work

block content
  h1.content__heading.push--bottom #{Log_in}
  if locals.auth_error
    p.section--error= auth_error
  else if locals.has_return_raw_body
    //- DEV: We intentionally use same order for sign up/log in
    p.section--info Sorry, you need to sign up/log in before we can save the job application. Don't worry, we'll save it when you're done.
  p
    //- DEV: `id` is for testing purposes only
    +google-button()#auth_with_google.push-half--bottom(href="/oauth/google/request?action=" + encodeURIComponent(action))
      | #{Log_in} with Google
    br
    em
      small
        //- DEV: We intentionally use "signing up" for both sign up and log in
        = "By signing up for Find Work, you hereby consent to our "
        a(href="/privacy") Privacy policy
        = " and "
        a(href="/terms") Terms of use
        = "."
  p.landmark
    if action === 'login'
      = "Don't have an account yet? "
      a(href="/sign-up") Click here to sign up
    else
      = "Already have an account? "
      a(href="/login") Click here to log in
  p
    = "Having issues " + logging_in + "? Contact us at "
    a(href="mailto:todd@findwork.co?subject=" + encodeURIComponent('Find Work support question')) todd@findwork.co
  p
    = "Want to " + log_in + " with a different service (e.g. Twitter)? Tell us at "
    a(href="mailto:todd@findwork.co?subject=" + encodeURIComponent(Log_in + ' service request')) todd@findwork.co
